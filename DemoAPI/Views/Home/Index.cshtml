<br/>
<form id="saveContactForm" method="post">
    <p>
        <label for="firstName">First Name:</label>
        <input type="text" name="FirstName" />
    </p>
    <p>
        <label for="lastName">Last Name:</label>
        <input type="text" name="LastName" />
    </p>
    <p>
        <label for="emailAddress">Email Address:</label>
        <input type="text" name="EmailAddress" />
    </p>
    <input type="button" id="saveContact" value="Save" />
</form>

@section scripts{

    <script type="text/javascript">

        $('#saveContact').click(function () {
            var Valid = true;
            $(function validateForm() {

                if (document.forms["saveContactForm"]["FirstName"].value == "") {
                    alert("First Name must not be empty");
                    Valid = false;
                }
                else if (document.forms["saveContactForm"]["LastName"].value == "") {
                    alert("Last Name must not be empty");
                    Valid = false;
                }
                else if (document.forms["saveContactForm"]["EmailAddress"].value == "") {
                    alert("Email Address must be filled out");
                    Valid = false;
                }
                else { Valid = true; }

                if (Valid) {
                $.post("api/contacts",
                    $("#saveContactForm").serialize(),
                         function (value) {
                             $('#contacts').append('<li>' + value.FirstName + '</li>');
                             if (value.Success) {
                                 window.location.href = value.RedirectUrl;
                             }
                         },
                         "json"
                    );
                };
            });

        });
             
    </script>
}



